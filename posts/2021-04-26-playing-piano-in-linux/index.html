<!doctype html><html lang><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><script type=text/javascript src=https://latest.cactus.chat/cactus.js></script>
<link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>playing piano in linux |</title><link rel=canonical href=/posts/2021-04-26-playing-piano-in-linux/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="playing piano in linux"><meta property="og:description" content="While on vacation I brought my small MIDI keyboard along so that the kids could easily practice piano. This keyboard does not generate sounds on its own, so it requires some other device to generate the sounds based on the MIDI output. I used my laptop running Linux to accomplish this with some minimal setup.
First you must plug the keyboard in via USB. If you launch the program and get sounds, great!"><meta property="og:type" content="article"><meta property="og:url" content="/posts/2021-04-26-playing-piano-in-linux/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-04-26T00:00:00+00:00"><meta property="article:modified_time" content="2021-04-26T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="playing piano in linux"><meta name=twitter:description content="While on vacation I brought my small MIDI keyboard along so that the kids could easily practice piano. This keyboard does not generate sounds on its own, so it requires some other device to generate the sounds based on the MIDI output. I used my laptop running Linux to accomplish this with some minimal setup.
First you must plug the keyboard in via USB. If you launch the program and get sounds, great!"><link rel=stylesheet href=/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N+XoIuZg=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick='$("html, body").animate({scrollTop:0},"fast")' style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=/about>About</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=/posts/2020-12-11-tracing-on-linux/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=%2fposts%2f2021-04-26-playing-piano-in-linux%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&text=playing%20piano%20in%20linux" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&title=playing%20piano%20in%20linux" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&is_video=false&description=playing%20piano%20in%20linux" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=playing%20piano%20in%20linux&body=Check out this article: %2fposts%2f2021-04-26-playing-piano-in-linux%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&title=playing%20piano%20in%20linux" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&title=playing%20piano%20in%20linux" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&name=playing%20piano%20in%20linux&description=While%20on%20vacation%20I%20brought%20my%20small%20MIDI%20keyboard%20along%20so%20that%20the%20kids%20could%20easily%20practice%20piano.%20This%20keyboard%20does%20not%20generate%20sounds%20on%20its%20own%2c%20so%20it%20requires%20some%20other%20device%20to%20generate%20the%20sounds%20based%20on%20the%20MIDI%20output.%20I%20used%20my%20laptop%20running%20Linux%20to%20accomplish%20this%20with%20some%20minimal%20setup.%0aFirst%20you%20must%20plug%20the%20keyboard%20in%20via%20USB.%20If%20you%20launch%20the%20program%20and%20get%20sounds%2c%20great%21" aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&t=playing%20piano%20in%20linux" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">playing piano in linux</h1><div class=meta><div class=postdate><time datetime="2021-04-26 00:00:00 +0000 UTC" itemprop=datePublished>2021-04-26</time></div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=/tags/linux rel=tag>linux</a>
,
<a class=tag-link href=/tags/music rel=tag>music</a></div></div></header><div id=toc><nav id=TableOfContents><ul><li><a href=#midi-connection>MIDI Connection</a></li><li><a href=#software>Software</a><ul><li><a href=#vmpk>VMPK</a></li><li><a href=#qsynth>Qsynth</a></li><li><a href=#webmidi-on-chrome>WebMIDI on Chrome</a></li><li><a href=#pianoteq>PianoTeq</a></li></ul></li></ul></nav></div><div class=content itemprop=articleBody><p>While on vacation I brought my small MIDI <a href=https://www.akaipro.com/lpk25>keyboard</a> along so that the kids could easily practice piano. This keyboard does not generate sounds on its own, so it requires some other device to generate the sounds based on the MIDI output. I used my laptop running Linux to accomplish this with some minimal setup.</p><p>First you must plug the keyboard in via USB. If you launch the program and get sounds, great! If not you may have to manually connect MIDI via <code>aconnect</code>.</p><h2 id=midi-connection>MIDI Connection</h2><p>To manually connect the MIDI device to the target application use <code>aconnect</code>. If you are using <code>qjackctl</code> or other sound/midi systems, this may work differently.</p><p>To determine midi inputs I first ran the following:</p><pre tabindex=0><code>$ aconnect -i
client 0: &#39;System&#39; [type=kernel]
    0 &#39;Timer           &#39;
    1 &#39;Announce        &#39;
client 14: &#39;Midi Through&#39; [type=kernel]
    0 &#39;Midi Through Port-0&#39;
client 24: &#39;LPK25&#39; [type=kernel,card=2]
    0 &#39;LPK25 MIDI 1    &#39;
client 129: &#39;VMPK Output&#39; [type=user,pid=280738]
    0 &#39;out             &#39;
</code></pre><p>To determine midi outputs I ran:</p><pre tabindex=0><code>$ aconnect -o
client 14: &#39;Midi Through&#39; [type=kernel]
    0 &#39;Midi Through Port-0&#39;
client 24: &#39;LPK25&#39; [type=kernel,card=2]
    0 &#39;LPK25 MIDI 1    &#39;
client 128: &#39;VMPK Input&#39; [type=user,pid=280738]
    0 &#39;in   
</code></pre><p>To connect the LPK25 MIDI keyboard to VMPK for example, you can do:</p><pre tabindex=0><code>aconnect 0:24 0:128
</code></pre><p>Another approach would be using <code>aconnectgui</code> which provides a graphical way to connect devices.
<img src=/images/aconnectgui.png alt="Aconnect Gui"></p><h2 id=software>Software</h2><p>You will also need software to play sounds. Below are a few options.</p><h3 id=vmpk>VMPK</h3><p>The Virtual MIDI Piano Keyboard or <a href=https://vmpk.sourceforge.io/>VMPK</a> can generate MIDI sounds and display notes as they are played. One can install this via a normal package manager such as <code>apt install vmpk</code>.</p><p><img src=/images/keyboard.png alt="VMPK Keyboard"></p><h3 id=qsynth>Qsynth</h3><p>You can install <code>qsynth</code> using standard package managers. Then you must connect the MIDI device through the method above. It doesn&rsquo;t display notes, but has more flexibility in how the output sounds.</p><h3 id=webmidi-on-chrome>WebMIDI on Chrome</h3><p>If you are using chrome you may be able to use WebMIDI which allows you to use a webpage to play sounds. An example that works is using <a href=https://www.onlinemusictools.com/kb/>Web MIDI Keyboard</a>.</p><h3 id=pianoteq>PianoTeq</h3><p>PianoTeq works on Linux machines and is a commercial product that has high quality keyboard samples. You can try a demo of the software to see how it works first.</p></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=/about>About</a></li></ul></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=%2fposts%2f2021-04-26-playing-piano-in-linux%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&text=playing%20piano%20in%20linux" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&title=playing%20piano%20in%20linux" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&is_video=false&description=playing%20piano%20in%20linux" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=playing%20piano%20in%20linux&body=Check out this article: %2fposts%2f2021-04-26-playing-piano-in-linux%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&title=playing%20piano%20in%20linux" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&title=playing%20piano%20in%20linux" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&name=playing%20piano%20in%20linux&description=While%20on%20vacation%20I%20brought%20my%20small%20MIDI%20keyboard%20along%20so%20that%20the%20kids%20could%20easily%20practice%20piano.%20This%20keyboard%20does%20not%20generate%20sounds%20on%20its%20own%2c%20so%20it%20requires%20some%20other%20device%20to%20generate%20the%20sounds%20based%20on%20the%20MIDI%20output.%20I%20used%20my%20laptop%20running%20Linux%20to%20accomplish%20this%20with%20some%20minimal%20setup.%0aFirst%20you%20must%20plug%20the%20keyboard%20in%20via%20USB.%20If%20you%20launch%20the%20program%20and%20get%20sounds%2c%20great%21" aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=%2fposts%2f2021-04-26-playing-piano-in-linux%2f&t=playing%20piano%20in%20linux" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick='return $("#nav-footer").toggle(),!1' aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=share-toggle class=icon href=# onclick='return $("#share-footer").toggle(),!1' aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2023 Chris J Arges</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/about>About</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script></html>